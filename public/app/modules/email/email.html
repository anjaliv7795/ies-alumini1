<ol class="breadcrumb border-bottom">
  <li class="module_name flex-grow-1">LAUDEA: Alumni Engagement Portal</li>
  <li class="breadcrumb-item"><a  data-ui-sref="home">Home</a></li>
  <li class="breadcrumb-item"><a>Email</a></li>
</ol>

<div class="over-layout" ng-if="emailOverlayLoder">
  <div class="over-layout-container">
    <h3><i class="fas fa-cog fa-spin"></i> &nbsp; Email Sending...</h3>
    <p>* please don't refresh the page <br> * please don't close the browser</p>
  </div>
</div>

<section class="content">
  <div class="element-wrapper">
    <h1 class="element-title">Email</h1>
    <div class="element-actions d-none">
        <button class="btn btn-sm btn-primary" data-toggle="collapse" data-target="#drawerFilter"><i class="fas fa-plus"></i>Filters</button>
    </div>
  </div>
  <div class="card">
    
    
    <div class="card-body">
      <div class="col-md-12 px-0">
        <form>
              <div class="form-group w-100">
                  <label>Group Name</label>
                  <div class="column">
                    <div class="form-group form-req ui-select-required">
                      <ui-select multiple ng-model="group.groupSelected" class="form-control"  close-on-select="false" on-select="onSelected($item.groupName)">
                        <ui-select-match placeholder="Select Group Name">{{$item.groupName}}</ui-select-match>
                        <ui-select-choices repeat="groupName in (groupMember | filter: $select.search)">
                          <div ng-bind-html="groupName.groupName | highlight: $select.search"></div>
                        </ui-select-choices>
                      </ui-select>
                      <p class="group-error-msg">Please Select the Group Name</p>
                    </div>
                  </div>
              </div>
            </div>
            <div class="form-group w-100">
                <label>Email Subject</label>
                <div class="column">
                  <div class="form-group form-req">
                    <input class="form-control required" ng-model="group.emailSubject" />
                    <p class="group-error-msg">Please Enter the Subject</p>
                  </div>
                </div>
            </div>
            <div class="form-group w-100">
                <label>Email Header</label>
                <div class="column">
                  <div class="form-group">
                      <textarea class="form-control required" ui-tinymce="tinymceOptions" statusbar="false" ng-model="group.emailHeader"></textarea>
                      <p class="group-error-msg">Please Enter the Email Header</p>
                  </div>
                </div>
            </div>
            <div class="form-group w-100">
                <label>Email Message</label>
                <div class="column">
                  <div class="form-group">
                      <textarea class="form-control required" ui-tinymce="tinymceOptions" style="height:300px;" ng-model="group.emailMessage"></textarea>
                      <p class="group-error-msg">Please Enter the Email Message</p>
                  </div>
                </div>
            </div>
            <div class="form-group w-100">
                <label>Email Signature</label>
                <div class="column">
                  <div class="form-group">
                      <textarea class="form-control required" ui-tinymce="tinymceOptions" ng-model="group.emailFooter"></textarea>
                      <p class="group-error-msg">Please Enter the Email Signature</p>
                  </div>
                </div>
            </div>
            <div class="form-group w-100">
                <label>Attachment File</label>
                <div class="column">
                  <div class="form-group">
                      <input type="file" file-model="myFile" multiple class="form-control-file">
                  </div>
                </div>
            </div>
        </form>
      </div>
    </div>

    <div class="card-footer">
      <div class="col-md-12 text-right">    
        <button type="button" data-ui-sref="home" class="btn btn-secondary mr-2">Cancel</button>
        <button type="button" ng-click="sendEmail($event);" id="submitButton" class="btn btn-primary">Send Email</button>
      </div>
    </div>
           
    
  </div>
</section>

<!-- Member Add Success -->
<div id="confirmAlertModel" class="modal fade">
  <div class="modal-dialog model-sm modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-body text-center">
        <div class="sa-icon sa-success animate" style="display: block;"> <span class="sa-line sa-tip animateSuccessTip"></span> <span class="sa-line sa-long animateSuccessLong"></span>
          <div class="sa-placeholder"></div>
          <div class="sa-fix"></div>
        </div>
        <div class="section-title mt-5 mb-5">
          <h2 class="text-gradient-02">{{alertMessage}}</h2>
        </div>
        <button type="button" class="btn btn-secondary mb-3" ng-click="alertConfirmOk();" data-dismiss="modal">Ok</button>
      </div>
    </div>
  </div>
</div>

<!--Mail Send Confirm confirmEmailSend -->
<div id="confirmEmailSend" class="modal fade">
	<div class="modal-dialog modal-sm modal-confirm">
		<div class="modal-content">
			<div class="modal-header">			
				<h4 class="modal-title text-center">
          	 Are you sure?</h4>	
			</div>
			<div class="modal-body py-2 px-4">
				<p class="confirm-p">Do you want to sent email</p>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
				<button type="button" class="btn btn-danger" ng-model="groupMemberId" ng-click="sendEmailConfirm();">Confirm</button>
			</div>
		</div>
	</div>
</div>
