<ol class="breadcrumb border-bottom">
    <li class="module_name flex-grow-1">LAUDEA: Alumni Management Portal</li>
    <li class="breadcrumb-item"><a data-ui-sref="home">Home</a></li>
    <li class="breadcrumb-item active" data-ui-sref="donation">Fundraising</li>
</ol>
<section class="content">
    <div class="element-wrapper">
        <h1 class="element-title">Fundraising</h1>
        <div class="element-actions">
            <button class="btn btn-primary btn-sm mr-1 mb-2" data-toggle="collapse" data-target="#drawerFilter"><i
                    class="la la-filter"></i>Filters</button>
        </div>
        <div class="element-actions">
            <a class="btn btn-sm btn-success text-white" data-ui-sref-active="active" ng-click="setEnvForAdd()"
                data-toggle="modal"><i class="la la-plus-circle"></i>
                New Donation </a>
        </div>
    </div>
    <div class="sidebar-drawer-overlay collapse" id="drawerFilter">
        <div class="sidebar-drawer">
            <div class="sidebar-drawer-header d-flex">
                <div class="flex-grow-1 text-white">Filters</div>
                <a class="nav-link py-0" data-toggle="collapse" data-target="#drawerFilter"><i
                        class="la la-times drawer-close"></i></a>
            </div>
            <!-- <div class="sidebar-drawer-body">
                <div class="w-100" id="sidebarBody">
                    
                    <div class="card">
                        <div class="card-header d-flex"> <span class="flex-grow-1">Fund Name </span> <a
                                class="link mr-4" ng-click="clearAllFilter('clearcname');">Clear</a> <a
                                class="sidebar-dropdown-icon mr-2" data-toggle="collapse"
                                data-target="#sidebarCategory1"><i class="fa fa-angle-up"></i></a>
                        </div>
                        <div class="card-body collapse show" id="sidebarCategory1">
                            <label class="option d-block" ng-repeat="donation in donationarr | orderBy">
                                <input type="checkbox">
                                <span class="checkbox" ng-click="fundName(donation.fundName)"></span> {{donation.fundName}}
                            </label>
                        </div>
                    </div>
                </div>
            </div> -->
</section>
<div class="row">
        <div class="col-md-12">
            <div class="card mb-0 pb-0">
                <div class="standard-table-header">
                    <div class="standard-table-filter border-bottom-0">
                        <div class="row">
                            <div class="col-md-9">
                            </div>
                            <div class="col-md-3 mt-2 mt-md-0 text-right">
                                <div class="input-group input-group-sm">
                                    <input type="text" class="form-control" placeholder="Search" ng-model="search"
                                        aria-label="Search" aria-describedby="basic-addon2">
                                    <div class="input-group-append">
                                        <button class="btn btn-gray-grad" type="button"> 
                                            <i class="la la-search mr-0"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

<div class="row">
    <div class="col-md-12">
        <div class="card mx-1 box">
            <div class="card-body text-g">
                <h5>Thank you for supporting PSG College of Technology!</h5>
                <h6>Your donation will help our college to continue providing the excellent education and student
                    experience for which it is renowned. Thank you for your generosity!</h6>
            </div>
        </div>
    </div>
</div>
<div class="element-actions" style="padding: 15px;">
    <div class="row">
        <div class="col-12">
            <div class="card-deck">
                <div class="card box"
                    ng-repeat="donation in donationarr | orderBy: '-createdTimestamp' | filter:search">

                    <!-- <div class="card card-list"> -->
                    <div><a><img class="card-img" style="height: 200px;"
                                src="{{donation.fileAttachmentDetails.imageUrl}}" />
                        </a> </div>
                    <div class="card-body">
                        <a class="btn btn-primary-2 rounded-0 p-0" style="float: right;"
                            ng-click="setEnvForEdit(donation)" data-toggle="modal">
                            <i class="la la-edit"></i>
                        </a>
                        <h6 class="card-title" style="font-weight: bold;">{{donation.fundName| uppercase}}</h6>
                        <!-- <p class="card-text d-block"><i class="la la-calendar"></i>
                            POSTED ON {{donation.createdDate}} -->
                        <div class="text-right">
                            <a data-ui-sref="viewDonation({donationId:donation._id})" data-ui-sref-active="active"
                                data-toggle="modal">
                                <button type="button" class="btn btn-info btn-sm mr-1 mb-2">Donate</button></a>
                        </div>
                        </p>
                    </div>
                </div>
            </div>
        </div>

    </div>

</div>
<div id="donationModal" class="modal fade" data-keyboard="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">

                <h6 class="modal-title" ng-if="dataMode == 'ADD'">New Donation</h6>
                <h6 class="modal-title" ng-if="dataMode == 'EDIT'">Edit </h6>

                <button type="button" class="close" data-dismiss="modal"> <span aria-hidden="true">Ã—</span>
                    <span class="sr-only">close</span>
                </button>
            </div>
            <div class="modal-body">
                <form name="newDonationform">
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="row">
                                <div class="col-sm-4 form-group">
                                    <div>
                                        <label class="required" for="fundName">Fund Name</label>
                                        <input type="text" class="form-control" id="fundName" name="fundName"
                                            ng-model="newDonation.fundName" validation="required">
                                    </div>
                                </div>
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <label for="description">Description</label>
                                        <textarea class="required" ui-tinymce="tinymceOptions"
                                            ng-model="newDonation.description" id="description" name="description"
                                            class="form-control" validation="required"></textarea>
                                    </div>
                                </div>
                                <div class="col-sm-8 form-group">
                                    <label>Add Image</label>
                                    <div class="column">
                                        <div class="dropzone dropzone-formcontroll" options="imageAttachment.dzOptions"
                                            callbacks="imageAttachment.dzCallbacks" methods="imageAttachment.dzMethods"
                                            ng-dropzone style ng-modal="newDonation.fileAttachmentDetails"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" ng-click="saveDonation();" ng-if="dataMode == 'ADD'">Save
                </button>
                <button type="button" data-dismiss="modal" class="btn btn-primary" ng-click="updateDonation(donation);"
                    ng-if="dataMode == 'EDIT'">Update
                </button>

            </div>
        </div>
    </div>
</div>