<ol class="breadcrumb border-bottom">
    <li class="module_name flex-grow-1">LAUDEA: Alumni Management Portal</li>

    <li class="breadcrumb-item"><a data-ui-sref="home">Home</a></li>
    <li class="breadcrumb-item active" data-ui-sref="jobs">Jobs</li>
</ol>
<section class="content">
    <div class="element-wrapper">
        <h1 class="element-title">Jobs</h1>
        <div class="element-actions">
            <button class="btn btn-primary btn-sm mr-1 mb-2" data-toggle="collapse" data-target="#drawerFilter"><i
                    class="la la-filter"></i>Filters</button>
        </div>
        <div class="element-actions">
            <a class="btn btn-sm btn-success text-white" data-ui-sref-active="active" ng-click="setEnvForAdd()"
                data-toggle="modal"><i class="la la-plus-circle"></i>
                Post Job</a>
        </div>
       

    </div>
    <div class="sidebar-drawer-overlay collapse" id="drawerFilter">
        <div class="sidebar-drawer">
            <div class="sidebar-drawer-header d-flex">
                <div class="flex-grow-1 text-white">Filters</div>
                <a class="nav-link py-0" data-toggle="collapse" data-target="#drawerFilter"><i
                        class="la la-times drawer-close"></i></a>
            </div>
            <div class="sidebar-drawer-body">
                <div class="w-100" id="sidebarBody">
                    <!--company -->
                    <div class="card">
                        <div class="card-header d-flex"> <span class="flex-grow-1">Company Name </span> <a
                                class="link mr-4" ng-click="clearAllFilter('clearcname');">Clear</a> <a
                                class="sidebar-dropdown-icon mr-2" data-toggle="collapse"
                                data-target="#sidebarCategory1"><i class="fa fa-angle-up"></i></a>
                        </div>
                        <div class="card-body collapse show" id="sidebarCategory1">
                            <label class="option d-block" ng-repeat="job in jobarr | orderBy">
                                <input type="checkbox">
                                <span class="checkbox" ng-click="company(job.cname)"></span> {{job.cname}} </label>
                        </div>
                    </div>
                    <!-- Domain -->
                    <div class="card">
                        <div class="card-header d-flex"> <span class="flex-grow-1">Domain </span> <a class="link mr-4"
                                ng-click="clearAllFilter('clearJtitle');">Clear</a> <a
                                class="sidebar-dropdown-icon mr-2" data-toggle="collapse"
                                data-target="#sidebarCategory2"><i class="fa fa-angle-up"></i></a>
                        </div>
                        <div class="card-body collapse show" id="sidebarCategory2">
                            <label class="option d-block" ng-repeat="job in jobarr | orderBy">
                                <input ng-checked="JtitleActive[Jtilte]" ng-model='JtilteActive[Jtitle]'
                                    ng-change="filterSelect(Jtitle, JtitleActive[Jtitle], 'dataJtitle')"
                                    type="checkbox">
                                <span class="checkbox" ng-click="domain(job.Jtitle)"></span> {{job.Jtitle}} </label>
                        </div>
                    </div>
                    <!-- Location -->
                    <div class="card">
                        <div class="card-header d-flex"> <span class="flex-grow-1">Location </span> <a class="link mr-4"
                                ng-click="clearAllFilter('clearLocation');">Clear</a> <a
                                class="sidebar-dropdown-icon mr-2" data-toggle="collapse"
                                data-target="#sidebarCategory3"><i class="fa fa-angle-up"></i></a>
                        </div>
                        <label class="option d-block">
                            <input name="service" value="Coimbatore" type="checkbox">
                            <span class="checkbox" ng-click="Location('Coimbatore')"></span>Coimbatore </label>
                        <label class="option d-block mt-2">
                            <input name="service" value="Chennai" type="checkbox">
                            <span class="checkbox" ng-click="Location('Chennai')"></span>Chennai </label>
                        <label class="option d-block mt-2">
                            <input name="service" value="Bangalore" type="checkbox">
                            <span class="checkbox" ng-click="Location('Bangalore')"></span> Bangalore </label>
                        <label class="option d-block mt-2">
                            <input name="service" value="Pune" type="checkbox">
                            <span class="checkbox" ng-click="Location('Hyberabad')"></span> Pune </label>
                        <label class="option d-block mt-2">
                            <input name="service" value="Hyderabad" type="checkbox">
                            <span class="checkbox" ng-click="Location('Hyberabad')"></span> Hyderabad</label>

                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- <div class="card p-5"> -->
<div class="element-actions" style="padding: 15px;">

    <div class="row">
        <div class="col-md-12">
            <div class="card mb-0 pb-0">
                <div class="standard-table-header">
                    <div class="standard-table-filter border-bottom-0">
                        <div class="row">
                            <div class="col-md-9">
                            </div>
                            <div class="col-md-3 mt-2 mt-md-0 text-right">
                                <div class="input-group input-group-sm">
                                    <input type="text" class="form-control" placeholder="Search" ng-model="searchh"
                                        aria-label="Search" aria-describedby="basic-addon2">
                                    <div class="input-group-append">
                                        <button class="btn btn-gray-grad" type="button">
                                            <i class="la la-search mr-0"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-12">
            <div class="card-deck mt-3">
                <div class="card"
                    ng-repeat="job in jobarr | filter:searchh | filter: companyFilter | filter: domainFilter | filter: locationFilter">
                    <div class="card-body">
                        <a class="btn btn-primary-2 rounded-0 py-0" style="float: right;" ng-click="setEnvForEdit(job)"
                            data-toggle="modal">
                            <i class="la la-edit mr-1"></i> Edit
                        </a>
                        <h6 class="card-title  mt-2 mb-2 " style="font-weight: bold"><a
                                data-ui-sref="viewJob({jobId:job._id})" data-ui-sref-active="active"
                                data-toggle="modal">{{job.Jtitle}}</a></h6>
                        <p class="card-text">{{job.cname}}</a></p>
                        <p class="card-text">Location: {{job.location}}</p>
                        <p class="card-text">Salary: ₹ {{job.salary}} per month</p>
                        <p class="card-text">Experience: {{job.Experience}} yrs</p>
                        <p class="card-text">Job Type: {{job.type}}</p>
                        <!-- <p class="card-text">Last Date to Apply: {{job.lastdate}}</p> -->
                        <p class="card-text">
                            <a href="{{job.externallink}}">{{job.externallink}}</a>
                        </p>
                        <p class="card-text d-block"><i class="la la-calendar"></i>
                            POSTED ON {{job.createdDate}}
                        </p>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <form novalidate name="newJobform">
        <div id="jobModal" class="modal fade" data-keyboard="true">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header">
                        <h6 class="modal-title" ng-if="dataMode == 'ADD'">Post Job</h6>
                        <h6 class="modal-title" ng-if="dataMode == 'EDIT'">Edit Job</h6>

                        <button type="button" class="close" data-dismiss="modal"> <span aria-hidden="true">×</span>
                            <span class="sr-only">close</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="col-md-12">
                            <div class="row">
                                <div class="col-md-4 form-group">
                                    <div>
                                        <label class="required" for="Jtitle">Job Title</label>
                                        <input type="text" class="form-control" id="Jtitle" name="Jtitle"
                                            ng-model="newJob.Jtitle" validation="required">
                                    </div>
                                </div>
                                <div class="col-md-4 form-group">
                                    <div>
                                        <label class="required" for="cname">Company Name</label>
                                        <input type="text" class="form-control" id="cname" name="cname"
                                            ng-model="newJob.cname" validation="required">
                                    </div>
                                </div>
                                <div class="col-md-4 form-group">
                                    <div>
                                        <label class="required" for="location">Location</label>
                                        <input type="text" class="form-control" id="location" name="location"
                                            ng-model="newJob.location" validation="required">
                                    </div>
                                </div>
                                <div class="col-md-4 form-group">
                                    <div>
                                        <label class="required" for="salary">Salary</label>
                                        <input type="number" class="form-control" id="salary" name="salary"
                                            ng-model="newJob.salary" validation="number|required">
                                    </div>
                                </div>
                                <div class="col-md-4 form-group">
                                    <div>
                                        <label class="control-label" for="Experience">Experience</label>
                                        <input type="text" class="form-control" id="Experience" name="Experience"
                                            ng-model="newJob.Experience" validation="required">
                                    </div>
                                </div>
                                <div class="col-md-4 form-group">
                                    <div>
                                        <label class="control-label" for="type">Job Type</label>

                                        <select class="form-control" id="type" name="type" ng-model="newJob.type"
                                            validation="required">
                                            <option value="Full time">Full Time</option>
                                            <option value="Intern">Intern</option>
                                            <option value="part time">Part Time</option>
                                            <option value="Contract">Contract</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-md-6" ng-if="newJob.type=='Intern'">
                                    <div class=" form-group">
                                        <div>
                                            <label class="control-label" for="stipend">Expected Stipend per
                                                month</label>
                                            <input type="number" class="form-control" id="stipend" name="stipend"
                                                ng-model="newJob.stipend" validation="number|required">
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6" ng-if="newJob.type=='Intern'">
                                    <div class=" form-group">
                                        <label for="date">Start Date</label>
                                        <div class="column">
                                            <input class="required" placeholder="DD/MM/YYYY" name="date" id="date"
                                                ng-flatpickr fp-opts="dateOpts1" ng-model="newJob.date"
                                                validation="date_euro|required">
                                            <span class="calender-caret"></span>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-12">
                                    <div class="form-group">
                                        <label for="description">Description</label>
                                        <textarea class="required" ui-tinymce="tinymceOptions"  ng-model="newJob.skills"
                                            id="description" name="description" class="form-control"
                                            validation="required"></textarea>
                                    </div>
                                </div>
                                <!-- <div class="col-md-4 form-group">
                                    <label for="lastdate">Last Date to Apply</label>
                                    <div class="column">
                                        <input class="form-control form-control-sm" placeholder="DD/MM/YYYY"
                                            id="lastdate" name="lastdate" ng-flatpickr fp-opts="dateOpts1"
                                            ng-model="newJob.lastdate">
                                        <span class="calender-caret"></span>
                                    </div>
                                </div> -->
                                <div class="col-md-4 form-group">
                                    <div>
                                        <!-- <label class="control-label" for="postby">Posted by:</label><br> -->
                                        <label class="required" for="cpname">Contact Person Name</label>
                                        <input type="text" class="form-control" id="cpname" name="cpname"
                                            ng-model="newJob.cperson" validation="required">
                                    </div>
                                </div>

                                <div class="col-md-4 form-group">
                                    <div>
                                        <label class="required" for="email">Email</label>
                                        <input type="text" class="form-control" id="email" name="email"
                                            ng-model="newJob.Email" validation="email|required">
                                    </div>
                                </div>
                                <div class="col-md-4 form-group">
                                    <div>
                                        <label class="required" for="phonenumber">Phone Number</label>
                                        <input type="number" class="form-control" id="phonenumber" name="phonenumber"
                                            ng-model="newJob.phonenumber" validation="number|required">
                                    </div>
                                </div>
                                <div class="col-md-4 form-group">
                                    <div>
                                        <label class="required" for="externallink">External Link</label>
                                        <input type="text" class="form-control" id="externallink" name="externallink"
                                            ng-model="newJob.externallink" validation="required">
                                    </div>
                                </div>
                            </div>

                        </div>


                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        <button type="button" class="btn btn-primary" ng-click="saveJob();"
                            ng-if="dataMode == 'ADD'">Save
                        </button>
                        <button type="button" data-dismiss="modal" class="btn btn-primary" ng-click="updateJob(job);"
                            ng-if="dataMode == 'EDIT'">Update
                        </button>

                    </div>
                </div>
            </div>
        </div>
    </form>
</div>